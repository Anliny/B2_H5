(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-editJokin"],{"0e5d":function(e,a,t){"use strict";t.r(a);var i=t("3231"),n=t("e487");for(var o in n)"default"!==o&&function(e){t.d(a,e,function(){return n[e]})}(o);t("41ba");var r=t("2877"),s=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"7afebc5a",null);a["default"]=s.exports},3231:function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-uni-view",{staticClass:"contanner"},[t("v-uni-form",{on:{submit:function(a){a=e.$handleEvent(a),e.formSubmit(a)},reset:function(a){a=e.$handleEvent(a),e.formReset(a)}}},[t("v-uni-view",{staticClass:"flex"},[t("v-uni-view",{staticStyle:{"text-align":"center","background-color":"#fff"}},[t("v-uni-image",{staticClass:"avatar",attrs:{src:e.jokinInfo.userAvatar},on:{click:function(a){a=e.$handleEvent(a),e.upload(a)}}}),t("v-uni-view",{staticClass:"item flex",on:{click:function(a){a=e.$handleEvent(a),e.upload(a)}}},[e._v("点击头像上传")])],1)],1),t("v-uni-view",{staticClass:"uni-form-item uni-column"},[t("v-uni-view",{staticClass:"form-lable"},[e._v("姓名：")]),t("v-uni-view",{staticClass:"form-inpput"},[t("v-uni-input",{attrs:{type:"text","placeholder-class":"placeholder",placeholder:"请填写昵称"},model:{value:e.jokinInfo.name,callback:function(a){e.$set(e.jokinInfo,"name",a)},expression:"jokinInfo.name"}})],1)],1),t("v-uni-view",{staticClass:"uni-form-item uni-column"},[t("v-uni-view",{staticClass:"form-lable"},[e._v("性别")]),t("v-uni-view",{staticClass:"form-inpput"},[t("v-uni-radio-group",{staticClass:"form-radio-group",on:{change:function(a){a=e.$handleEvent(a),e.handleRadioChange(a)}}},e._l(e.sexList,function(a,i){return t("v-uni-label",{key:a.value,staticClass:"formRadio"},[t("v-uni-view",[t("v-uni-radio",{attrs:{value:a.value,checked:i+1===e.jokinInfo.gender}})],1),t("v-uni-view",[e._v(e._s(a.name))])],1)}),1)],1)],1),t("v-uni-view",{staticClass:"uni-form-item uni-column"},[t("v-uni-view",{staticClass:"form-lable"},[e._v("年龄：")]),t("v-uni-view",{staticClass:"form-inpput"},[t("v-uni-picker",{staticClass:"picker",attrs:{range:e.years},on:{change:function(a){a=e.$handleEvent(a),e.handleYearChange(a)}}},[e._v(e._s(e.years[e.yearsIndex]))])],1)],1),t("v-uni-view",{staticClass:"uni-form-item uni-column"},[t("v-uni-view",{staticClass:"form-lable"},[e._v("工作年限：")]),t("v-uni-view",{staticClass:"form-inpput"},[t("v-uni-picker",{staticClass:"picker",attrs:{range:e.jobYars},on:{change:function(a){a=e.$handleEvent(a),e.handlejobYarsChange(a)}}},[e._v(e._s(e.jobYars[e.jobYarIndex]))])],1)],1),t("v-uni-view",{staticClass:"uni-form-item uni-column"},[t("v-uni-view",{staticClass:"form-lable"},[e._v("手机号：")]),t("v-uni-view",{staticClass:"form-inpput"},[t("v-uni-input",{attrs:{type:"text","placeholder-class":"placeholder",placeholder:"请填写手机号"},model:{value:e.jokinInfo.phone,callback:function(a){e.$set(e.jokinInfo,"phone",a)},expression:"jokinInfo.phone"}})],1)],1),t("v-uni-view",{staticClass:"uni-form-item uni-column"},[t("v-uni-view",{staticClass:"form-lable"},[e._v("微信号：")]),t("v-uni-view",{staticClass:"form-inpput"},[t("v-uni-input",{attrs:{type:"text","placeholder-class":"placeholder",placeholder:"请填写微信号"},model:{value:e.jokinInfo.wechatNumber,callback:function(a){e.$set(e.jokinInfo,"wechatNumber",a)},expression:"jokinInfo.wechatNumber"}})],1)],1),t("v-uni-view",{staticClass:"uni-form-item uni-column"},[t("v-uni-view",{staticClass:"form-lable"},[e._v("籍贯：")]),t("v-uni-view",{staticClass:"form-inpput",on:{click:function(a){a=e.$handleEvent(a),e.handleCheckNativePlace(a)}}},[e._v(e._s(e.nativePlace))])],1),t("v-uni-view",{staticClass:"uni-form-item uni-column"},[t("v-uni-view",{staticClass:"form-lable"},[e._v("工作地：")]),t("v-uni-view",{staticClass:"form-inpput",on:{click:function(a){a=e.$handleEvent(a),e.handleCheckAdress(a)}}},[e._v(e._s(e.working))])],1),t("v-uni-view",{staticClass:"uni-form-item uni-column",staticStyle:{height:"auto"}},[t("v-uni-view",{staticClass:"form-lable"},[e._v("擅长领域：")]),t("v-uni-view",{staticClass:"form-inpput form-inpput-textarea"},[t("v-uni-textarea",{staticStyle:{"font-size":"14px","line-height":"35px"},attrs:{"placeholder-style":"color:#808080",placeholder:"请输入擅长领域"},on:{blur:function(a){a=e.$handleEvent(a),e.handleField(a)}},model:{value:e.jokinInfo.field,callback:function(a){e.$set(e.jokinInfo,"field",a)},expression:"jokinInfo.field"}})],1)],1),t("v-uni-view",{staticClass:"uni-form-item uni-column",staticStyle:{height:"auto"}},[t("v-uni-view",{staticClass:"form-lable"},[e._v("情感箴言：")]),t("v-uni-view",{staticClass:"form-inpput form-inpput-textarea"},[t("v-uni-textarea",{staticStyle:{"font-size":"14px","line-height":"35px"},attrs:{"placeholder-style":"color:#808080",placeholder:"请输入情感箴言"},on:{blur:function(a){a=e.$handleEvent(a),e.handleMotto(a)}},model:{value:e.jokinInfo.motto,callback:function(a){e.$set(e.jokinInfo,"motto",a)},expression:"jokinInfo.motto"}})],1)],1),t("v-uni-view",{staticClass:"uni-btn-v"},[t("v-uni-button",{attrs:{type:"primary",loading:e.loading,"form-type":"submit"}},[e._v("提交")])],1)],1),t("lotus-address",{attrs:{lotusAddressData:e.lotusAddressData},on:{choseVal:function(a){a=e.$handleEvent(a),e.choseValue(a)}}})],1)},n=[];t.d(a,"a",function(){return i}),t.d(a,"b",function(){return n})},"41ba":function(e,a,t){"use strict";var i=t("72a5"),n=t.n(i);n.a},"69bf":function(e,a,t){"use strict";var i=t("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(t("f499"));t("7f7f");var o=i(t("58ba")),r=i(t("3b6f")),s=t("f36b"),l={components:{lotusAddress:r.default},data:function(){return{loading:!1,isAdress:0,sexList:[{value:"1",name:"男"},{value:"2",name:"女"}],years:s.years,yearsIndex:0,jobYars:s.jobYars,jobYarIndex:0,jokinInfo:{userAvatar:"",name:"",age:0,gender:0,workingLife:"",phone:"",wechatNumber:"",nativePlace:{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},workingAddress:{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},field:"",motto:"",state:""},lotusAddressData:{visible:!1,provinceName:"",cityName:"",townName:""},region:"",matchmakerId:""}},computed:{working:function(){var e=this.jokinInfo.workingAddress,a=e.province,t=e.city,i=e.town;return"".concat(a).concat(t).concat(i)},nativePlace:function(){var e=this.jokinInfo.nativePlace,a=e.province,t=e.city,i=e.town;return"".concat(a).concat(t).concat(i)}},onLoad:function(e){this.matchmakerId=e.matchmakerId,this.getUserInfo()},methods:{getUserInfo:function(){var e=this;o.default.baseRequest({url:"matchmaker/queryById",data:{id:this.matchmakerId},method:"get",success:function(a){try{console.log(a);var t=a.data.data,i=t.userAvatar,n=t.name,o=t.gender,r=t.age,s=t.workingLife,l=t.phone,c=t.wechatNumber,d=t.nativePlace,u=t.workingAddress,f=t.field,v=t.motto;e.jokinInfo={userAvatar:i,name:n,gender:o,age:r,workingLife:s,phone:l,wechatNumber:c,nativePlace:JSON.parse(d),workingAddress:JSON.parse(u),field:f,motto:v};var p=r||"请选择年龄";e.yearsIndex=e.years.indexOf(p),e.jobYarIndex=e.jobYars.indexOf(s),console.log(e.jobYarIndex)}catch(m){}}})},upload:function(){uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var a=e.tempFilePaths[0];uni.navigateTo({url:"/pages/components/uploadAvatar/jokinAvatar?src="+a})}})},formSubmit:function(e){var a=this;this.loading=!0;var t=[{name:"userAvatar",required:!0,type:"text",errmsg:"请上传头像"},{name:"name",required:!0,type:"text",errmsg:"请填写名称"},{name:"gender",required:!0,type:"text",errmsg:"请填写请选择性别"},{name:"age",required:!0,type:"text",errmsg:"请填写请选择年龄"},{name:"workingLife",required:!0,type:"text",errmsg:"请填写请选择工作年限"},{name:"phone",required:!0,type:"text",errmsg:"请填写手机号码"},{name:"wechatNumber",required:!0,type:"text",errmsg:"请填写微信号"},{name:"nativePlace",required:!0,type:"text",errmsg:"请选择籍贯"},{name:"workingAddress",required:!0,type:"text",errmsg:"请选择工作地点"},{name:"field",required:!0,type:"text",errmsg:"请填写擅长领域"},{name:"motto",required:!0,type:"text",errmsg:"请填写情感箴言"}];this.jokinInfo.id=uni.getStorageSync("userInfo").id,console.log(this.jokinInfo);var i=this.$validate.validate(this.jokinInfo,t);if(!i.isOk)return uni.showToast({icon:"none",title:i.errmsg}),!1;var r=this.jokinInfo,s=r.userAvatar,l=r.name,c=r.gender,d=r.id,u=r.workingLife,f=r.phone,v=r.wechatNumber,p=r.nativePlace,m=r.workingAddress,h=r.field,b=r.age,g=r.motto,w=r.state,x={userAvatar:s,name:l,gender:c,id:d,workingLife:u,phone:f,age:b,wechatNumber:v,nativePlace:(0,n.default)(p),workingAddress:(0,n.default)(m),field:h,motto:g,state:w};o.default.baseRequest({url:"matchmaker/save",data:x,method:"post",success:function(t){a.loading=!1;try{uni.showToast({title:"保存成功！",icon:"success",showCancel:!1}),uni.setStorageSync("userInfo",t.data.data),uni.switchTab({url:"/pages/me/index"})}catch(e){}}})},handleRadioChange:function(e){this.jokinInfo.gender=e.target.value},handleYearChange:function(e){this.yearsIndex=e.detail.value,this.jokinInfo.age=s.years[this.yearsIndex]},handlejobYarsChange:function(e){console.log(e),this.jobYarIndex=e.detail.value,this.jokinInfo.workingLife=s.jobYars[this.jobYarIndex]},handleCheckNativePlace:function(){this.isAdress=1,this.openPicker()},handleCheckAdress:function(){this.isAdress=2,console.log(1231),this.openPicker()},openPicker:function(){this.lotusAddressData.visible=!0;var e=this.jokinInfo;e.nativePlace,e.workingAddress},choseValue:function(e){this.lotusAddressData.visible=e.visible,e.isChose&&(console.log(this.isAdress),1==this.isAdress&&(console.log(e),this.jokinInfo.nativePlace=e),2==this.isAdress&&(this.jokinInfo.workingAddress=e)),this.isAdress=0},handleField:function(e){console.log(e)},handleMotto:function(e){console.log(e)}}};a.default=l},"72a5":function(e,a,t){var i=t("8641");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=t("4f06").default;n("b652763e",i,!0,{sourceMap:!1,shadowMode:!1})},8641:function(e,a,t){a=e.exports=t("2350")(!1),a.push([e.i,"/* 主页面样式 */uni-page-body[data-v-7afebc5a]{background-color:#fafafa}uni-view[data-v-7afebc5a]{\r\n\t/* width: 100%; */-webkit-box-sizing:border-box;box-sizing:border-box;font-size:14px}uni-button[data-v-7afebc5a]{font-size:14px;line-height:2.3}\r\n/* 表单样式 */.uni-form-item[data-v-7afebc5a]{height:35px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-bottom:10px}.form-inpput[data-v-7afebc5a]{width:75vw;line-height:35px;background-color:#fff;font-size:13px}.form-inpput .placeholder[data-v-7afebc5a],.form-inpput .uni-input-input[data-v-7afebc5a]{font-size:13px}.form-inpput .form-radio-group[data-v-7afebc5a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.form-inpput .formRadio[data-v-7afebc5a]{font-size:14px;width:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.form-inpput .picker[data-v-7afebc5a]{font-size:14px}.form-lable[data-v-7afebc5a]{width:25vw;line-height:35px;font-size:14px;color:#a0a0a0}.form-inpput uni-input[data-v-7afebc5a]{height:35px;line-height:35px;padding:0 3px;border-radius:3px}.form-inpput uni-textarea[data-v-7afebc5a]{width:auto}.form-inpput-textarea[data-v-7afebc5a]{height:150px}.verification-wrapper[data-v-7afebc5a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.verification-input[data-v-7afebc5a]{-webkit-box-sizing:content-box;box-sizing:content-box}.verification-btn[data-v-7afebc5a]{width:160px;line-height:35px;-webkit-box-sizing:content-box;box-sizing:content-box}\r\n/* 卡片阴影 */.card-shadow[data-v-7afebc5a]{border:1px #ddd solid;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.2);box-shadow:0 1px 2px rgba(0,0,0,.2)}\r\n/* 图片 */.image-wrapper[data-v-7afebc5a]{overflow:hidden}.image[data-v-7afebc5a]{width:100%;height:100%}\r\n/* 两行超出显示··· */.text-two-line[data-v-7afebc5a]{-o-text-overflow:-o-ellipsis-lastline;text-overflow:-o-ellipsis-lastline;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}\r\n/* 加载跟多 */.loadMore[data-v-7afebc5a]{color:#ccc;line-height:30px}.rotate[data-v-7afebc5a]{-webkit-animation:myMove-data-v-7afebc5a 2s linear infinite;animation:myMove-data-v-7afebc5a 2s linear infinite;margin-right:8px\r\n\t/* transition: roall 2s linear; */}@-webkit-keyframes myMove-data-v-7afebc5a{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes myMove-data-v-7afebc5a{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.loutBtn[data-v-7afebc5a]{position:absolute;bottom:30px;width:100%;padding:0 80px}.contanner[data-v-7afebc5a]{width:100%;height:100%;padding:8px}.avatar-container[data-v-7afebc5a]{position:relative;text-align:center;padding-top:50%}.avatar[data-v-7afebc5a]{width:5rem;height:5rem;background-color:#e5e5e5;border-radius:50%}.item[data-v-7afebc5a]{line-height:3rem}.uni-form-item[data-v-7afebc5a]{margin-top:8px}body.?%PAGE?%[data-v-7afebc5a]{background-color:#fafafa}",""])},e487:function(e,a,t){"use strict";t.r(a);var i=t("69bf"),n=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(a,e,function(){return i[e]})}(o);a["default"]=n.a}}]);