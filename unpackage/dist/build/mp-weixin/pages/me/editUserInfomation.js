(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/editUserInfomation"],{"2c03":function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("4d6c"),n=r(s("222a"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){return Promise.all([s.e("common/vendor"),s.e("components/Winglau14-lotusAddress/Winglau14-lotusAddress")]).then(s.bind(null,"0899"))},a={components:{lotusAddress:o},data:function(){return{isAdress:0,loading:!1,marrys:i.marrys,marrysIndex:0,userDetailInfo:{position:"",nativePlace:{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},currentAddress:{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},industry:"",isMarry:""},lotusAddressData:{visible:!1,provinceName:"",cityName:"",townName:""},region:""}},onLoad:function(e){var t=this,s=JSON.parse(e.info),n=s.position,r=s.nativePlace,o=s.currentAddress,a=s.industry,c=s.isMarry;r=r?JSON.parse(r):{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},o=o?JSON.parse(o):{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},this.userDetailInfo={position:n||"",industry:a||"",isMarry:c||"",nativePlace:r,currentAddress:o},i.marrys.find(function(e,s){e.val==c&&(t.marrysIndex=s)})},methods:{formSubmit:function(t){var s=this,i=[{name:"position",required:!0,type:"text",errmsg:"请输入职位"},{name:"industry",required:!0,type:"text",errmsg:"请输入行业"}];this.userDetailInfo.id=e.getStorageSync("userInfo").id,console.log(this.userDetailInfo);var r=this.$validate.validate(this.userDetailInfo,i);if(!r.isOk)return e.showToast({icon:"none",title:r.errmsg}),!1;var o=this.userDetailInfo,a=o.currentAddress,c=o.id,d=o.industry,u=o.isMarry,l=o.nativePlace,f=o.position;console.log(JSON.stringify(a));var v={currentAddress:JSON.stringify(a),id:c,industry:d,isMarry:u,nativePlace:JSON.stringify(l),position:f};n.default.baseRequest({url:"member/save",data:v,method:"post",success:function(i){try{e.showToast({title:"保存成功！",icon:"success",showCancel:!1}),s.userInfo=i.data.data,e.setStorageSync("userInfo",i.data.data),setTimeout(function(){s.$router.replace("/pages/me/detail")},1200)}catch(t){}}})},formReset:function(e){console.log("清空数据")},handleMarryChange:function(e){this.marrysIndex=e.target.value,this.userDetailInfo.isMarry=i.marrys[this.marrysIndex].val},bindPickerChange:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.index=e.target.value},handleCheckNativePlace:function(){this.isAdress=1,this.openPicker()},handleCheckAdress:function(){this.isAdress=2,this.openPicker()},openPicker:function(){this.lotusAddressData.visible=!0;var e=this.userDetailInfo,t=e.nativePlace,s=e.currentAddress;1==this.isAdress&&(this.lotusAddressData.provinceName=t.province,this.lotusAddressData.cityName=t.city,this.lotusAddressData.townName=t.town),2==this.isAdress&&(this.lotusAddressData.provinceName=s.province,this.lotusAddressData.cityName=s.city,this.lotusAddressData.townName=s.town)},choseValue:function(e){this.lotusAddressData.visible=e.visible,e.isChose&&(console.log(this.isAdress),1==this.isAdress&&(console.log(e),this.userDetailInfo.nativePlace=e),2==this.isAdress&&(this.userDetailInfo.currentAddress=e),this.region="".concat(e.province," ").concat(e.city," ").concat(e.town)),this.isAdress=0}}};t.default=a}).call(this,s("543d")["default"])},"62c6":function(e,t,s){"use strict";s.r(t);var i=s("9014"),n=s("e9e6");for(var r in n)"default"!==r&&function(e){s.d(t,e,function(){return n[e]})}(r);s("cb80");var o=s("2877"),a=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);t["default"]=a.exports},9014:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},n=[];s.d(t,"a",function(){return i}),s.d(t,"b",function(){return n})},cb80:function(e,t,s){"use strict";var i=s("f101"),n=s.n(i);n.a},e9e6:function(e,t,s){"use strict";s.r(t);var i=s("2c03"),n=s.n(i);for(var r in i)"default"!==r&&function(e){s.d(t,e,function(){return i[e]})}(r);t["default"]=n.a},f101:function(e,t,s){},f95d:function(e,t,s){"use strict";(function(e){s("fc8c"),s("921b");i(s("66fd"));var t=i(s("62c6"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("543d")["createPage"])}},[["f95d","common/runtime","common/vendor"]]]);