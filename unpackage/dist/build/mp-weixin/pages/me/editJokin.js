(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/editJokin"],{1924:function(e,t,n){"use strict";(function(e){n("fc8c"),n("921b");a(n("66fd"));var t=a(n("24a8"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"24a8":function(e,t,n){"use strict";n.r(t);var a=n("ceb6"),o=n("97ff");for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);n("f349");var i=n("2877"),s=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,null,null);t["default"]=s.exports},"34b0":function(e,t,n){},"97ff":function(e,t,n){"use strict";n.r(t);var a=n("fc7a"),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);t["default"]=o.a},ceb6:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},f349:function(e,t,n){"use strict";var a=n("34b0"),o=n.n(a);o.a},fc7a:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("222a")),o=n("4d6c");function r(e){return e&&e.__esModule?e:{default:e}}var i=function(){return Promise.all([n.e("common/vendor"),n.e("components/Winglau14-lotusAddress/Winglau14-lotusAddress")]).then(n.bind(null,"0899"))},s={components:{lotusAddress:i},data:function(){return{loading:!1,isAdress:0,sexList:[{value:"1",name:"男"},{value:"2",name:"女"}],years:o.years,yearsIndex:0,jobYars:o.jobYars,jobYarIndex:0,jokinInfo:{userAvatar:"",name:"",age:0,gender:0,workingLife:"",phone:"",wechatNumber:"",nativePlace:{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},workingAddress:{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},field:"",motto:"",state:""},lotusAddressData:{visible:!1,provinceName:"",cityName:"",townName:""},region:"",matchmakerId:""}},computed:{working:function(){var e=this.jokinInfo.workingAddress,t=e.province,n=e.city,a=e.town;return"".concat(t).concat(n).concat(a)},nativePlace:function(){var e=this.jokinInfo.nativePlace,t=e.province,n=e.city,a=e.town;return"".concat(t).concat(n).concat(a)}},onLoad:function(e){this.matchmakerId=e.matchmakerId,this.getUserInfo()},methods:{getUserInfo:function(){var e=this;a.default.baseRequest({url:"matchmaker/queryById",data:{id:this.matchmakerId},method:"get",success:function(t){try{console.log(t);var n=t.data.data,a=n.userAvatar,o=n.name,r=n.gender,i=n.age,s=n.workingLife,c=n.phone,d=n.wechatNumber,u=n.nativePlace,l=n.workingAddress,f=n.field,m=n.motto;e.jokinInfo={userAvatar:a,name:o,gender:r,age:i,workingLife:s,phone:c,wechatNumber:d,nativePlace:JSON.parse(u),workingAddress:JSON.parse(l),field:f,motto:m};var h=i||"请选择年龄";e.yearsIndex=e.years.indexOf(h),e.jobYarIndex=e.jobYars.indexOf(s),console.log(e.jobYarIndex)}catch(g){}}})},upload:function(){e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(t){var n=t.tempFilePaths[0];e.navigateTo({url:"/pages/components/uploadAvatar/jokinAvatar?src="+n})}})},formSubmit:function(t){var n=this;this.loading=!0;var o=[{name:"userAvatar",required:!0,type:"text",errmsg:"请上传头像"},{name:"name",required:!0,type:"text",errmsg:"请填写名称"},{name:"gender",required:!0,type:"text",errmsg:"请填写请选择性别"},{name:"age",required:!0,type:"text",errmsg:"请填写请选择年龄"},{name:"workingLife",required:!0,type:"text",errmsg:"请填写请选择工作年限"},{name:"phone",required:!0,type:"text",errmsg:"请填写手机号码"},{name:"wechatNumber",required:!0,type:"text",errmsg:"请填写微信号"},{name:"nativePlace",required:!0,type:"text",errmsg:"请选择籍贯"},{name:"workingAddress",required:!0,type:"text",errmsg:"请选择工作地点"},{name:"field",required:!0,type:"text",errmsg:"请填写擅长领域"},{name:"motto",required:!0,type:"text",errmsg:"请填写情感箴言"}];this.jokinInfo.id=e.getStorageSync("userInfo").id,console.log(this.jokinInfo);var r=this.$validate.validate(this.jokinInfo,o);if(!r.isOk)return e.showToast({icon:"none",title:r.errmsg}),!1;var i=this.jokinInfo,s=i.userAvatar,c=i.name,d=i.gender,u=i.id,l=i.workingLife,f=i.phone,m=i.wechatNumber,h=i.nativePlace,g=i.workingAddress,v=i.field,p=i.age,k=i.motto,b=i.state,y={userAvatar:s,name:c,gender:d,id:u,workingLife:l,phone:f,age:p,wechatNumber:m,nativePlace:JSON.stringify(h),workingAddress:JSON.stringify(g),field:v,motto:k,state:b};a.default.baseRequest({url:"matchmaker/save",data:y,method:"post",success:function(a){n.loading=!1;try{e.showToast({title:"保存成功！",icon:"success",showCancel:!1}),e.setStorageSync("userInfo",a.data.data),e.switchTab({url:"/pages/me/index"})}catch(t){}}})},handleRadioChange:function(e){this.jokinInfo.gender=e.target.value},handleYearChange:function(e){this.yearsIndex=e.detail.value,this.jokinInfo.age=o.years[this.yearsIndex]},handlejobYarsChange:function(e){console.log(e),this.jobYarIndex=e.detail.value,this.jokinInfo.workingLife=o.jobYars[this.jobYarIndex]},handleCheckNativePlace:function(){this.isAdress=1,this.openPicker()},handleCheckAdress:function(){this.isAdress=2,console.log(1231),this.openPicker()},openPicker:function(){this.lotusAddressData.visible=!0;var e=this.jokinInfo;e.nativePlace,e.workingAddress},choseValue:function(e){this.lotusAddressData.visible=e.visible,e.isChose&&(console.log(this.isAdress),1==this.isAdress&&(console.log(e),this.jokinInfo.nativePlace=e),2==this.isAdress&&(this.jokinInfo.workingAddress=e)),this.isAdress=0},handleField:function(e){console.log(e)},handleMotto:function(e){console.log(e)}}};t.default=s}).call(this,n("543d")["default"])}},[["1924","common/runtime","common/vendor"]]]);