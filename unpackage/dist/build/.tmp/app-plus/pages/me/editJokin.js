(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/editJokin"],{1924:function(e,t,n){"use strict";(function(e){n("fc8c"),n("921b");a(n("66fd"));var t=a(n("24a8"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"24a8":function(e,t,n){"use strict";n.r(t);var a=n("ceb6"),o=n("97ff");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("f349");var r=n("2877"),s=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,null,null);t["default"]=s.exports},"34b0":function(e,t,n){},"97ff":function(e,t,n){"use strict";n.r(t);var a=n("fc7a"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=o.a},ceb6:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},f349:function(e,t,n){"use strict";var a=n("34b0"),o=n.n(a);o.a},fc7a:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("222a")),i=n("4d6c");function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){return Promise.all([n.e("common/vendor"),n.e("components/Winglau14-lotusAddress/Winglau14-lotusAddress")]).then(n.bind(null,"0899"))},d={components:{lotusAddress:s},data:function(){return{loading:!1,isAdress:0,sexList:[{value:"1",name:"男"},{value:"2",name:"女"}],years:i.years,yearsIndex:0,jobYars:i.jobYars,jobYarIndex:0,jokinInfo:{userAvatar:"",name:"",age:0,gender:0,workingLife:"",phone:"",wechatNumber:"",nativePlace:{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},workingAddress:{city:"",cityCode:"",province:"",provinceCode:"",town:"",townCode:""},field:"",motto:"",state:""},lotusAddressData:{visible:!1,provinceName:"",cityName:"",townName:""},region:"",matchmakerId:""}},computed:{working:function(){var e=this.jokinInfo.workingAddress,t=e.province,n=e.city,a=e.town;return"".concat(t).concat(n).concat(a)},nativePlace:function(){var e=this.jokinInfo.nativePlace,t=e.province,n=e.city,a=e.town;return"".concat(t).concat(n).concat(a)}},onLoad:function(e){this.matchmakerId=e.matchmakerId,this.getUserInfo()},methods:{getUserInfo:function(){var t=this;o.default.baseRequest({url:"matchmaker/queryById",data:{id:this.matchmakerId},method:"get",success:function(n){try{console.log(e(n," at pages\\me\\editJokin.vue:188"));var a=n.data.data,o=a.userAvatar,i=a.name,r=a.gender,s=a.age,d=a.workingLife,c=a.phone,u=a.wechatNumber,l=a.nativePlace,f=a.workingAddress,m=a.field,g=a.motto;t.jokinInfo={userAvatar:o,name:i,gender:r,age:s,workingLife:d,phone:c,wechatNumber:u,nativePlace:JSON.parse(l),workingAddress:JSON.parse(f),field:m,motto:g};var h=s||"请选择年龄";t.yearsIndex=t.years.indexOf(h),t.jobYarIndex=t.jobYars.indexOf(d),console.log(e(t.jobYarIndex," at pages\\me\\editJokin.vue:206"))}catch(v){}}})},upload:function(){a.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var t=e.tempFilePaths[0];a.navigateTo({url:"/pages/components/uploadAvatar/jokinAvatar?src="+t})}})},formSubmit:function(t){var n=this;this.loading=!0;var i=[{name:"userAvatar",required:!0,type:"text",errmsg:"请上传头像"},{name:"name",required:!0,type:"text",errmsg:"请填写名称"},{name:"gender",required:!0,type:"text",errmsg:"请填写请选择性别"},{name:"age",required:!0,type:"text",errmsg:"请填写请选择年龄"},{name:"workingLife",required:!0,type:"text",errmsg:"请填写请选择工作年限"},{name:"phone",required:!0,type:"text",errmsg:"请填写手机号码"},{name:"wechatNumber",required:!0,type:"text",errmsg:"请填写微信号"},{name:"nativePlace",required:!0,type:"text",errmsg:"请选择籍贯"},{name:"workingAddress",required:!0,type:"text",errmsg:"请选择工作地点"},{name:"field",required:!0,type:"text",errmsg:"请填写擅长领域"},{name:"motto",required:!0,type:"text",errmsg:"请填写情感箴言"}];this.jokinInfo.id=a.getStorageSync("userInfo").id,console.log(e(this.jokinInfo," at pages\\me\\editJokin.vue:286"));var r=this.$validate.validate(this.jokinInfo,i);if(!r.isOk)return a.showToast({icon:"none",title:r.errmsg}),!1;var s=this.jokinInfo,d=s.userAvatar,c=s.name,u=s.gender,l=s.id,f=s.workingLife,m=s.phone,g=s.wechatNumber,h=s.nativePlace,v=s.workingAddress,p=s.field,k=s.age,b=s.motto,y=s.state,w={userAvatar:d,name:c,gender:u,id:l,workingLife:f,phone:m,age:k,wechatNumber:g,nativePlace:JSON.stringify(h),workingAddress:JSON.stringify(v),field:p,motto:b,state:y};o.default.baseRequest({url:"matchmaker/save",data:w,method:"post",success:function(e){n.loading=!1;try{a.showToast({title:"保存成功！",icon:"success",showCancel:!1}),a.setStorageSync("userInfo",e.data.data),a.switchTab({url:"/pages/me/index"})}catch(t){}}})},handleRadioChange:function(e){this.jokinInfo.gender=e.target.value},handleYearChange:function(e){this.yearsIndex=e.detail.value,this.jokinInfo.age=i.years[this.yearsIndex]},handlejobYarsChange:function(t){console.log(e(t," at pages\\me\\editJokin.vue:360")),this.jobYarIndex=t.detail.value,this.jokinInfo.workingLife=i.jobYars[this.jobYarIndex]},handleCheckNativePlace:function(){this.isAdress=1,this.openPicker()},handleCheckAdress:function(){this.isAdress=2,console.log(e(1231," at pages\\me\\editJokin.vue:373")),this.openPicker()},openPicker:function(){this.lotusAddressData.visible=!0;var e=this.jokinInfo;e.nativePlace,e.workingAddress},choseValue:function(t){this.lotusAddressData.visible=t.visible,t.isChose&&(console.log(e(this.isAdress," at pages\\me\\editJokin.vue:405")),1==this.isAdress&&(console.log(e(t," at pages\\me\\editJokin.vue:408")),this.jokinInfo.nativePlace=t),2==this.isAdress&&(this.jokinInfo.workingAddress=t)),this.isAdress=0},handleField:function(t){console.log(e(t," at pages\\me\\editJokin.vue:423"))},handleMotto:function(t){console.log(e(t," at pages\\me\\editJokin.vue:427"))}}};t.default=d}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["1924","common/runtime","common/vendor"]]]);